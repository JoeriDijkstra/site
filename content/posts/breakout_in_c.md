---
title: "Breakout in C"
date: 2023-11-10T21:48:18+02:00
draft: false
---

**Status:** In progress

Game development like it is 1980! In this mini series we will build the famous game **breakout** from scratch using the C programming language, and SDL to make sure it is multi-platform. The game is relatively simple but instead of just showing the code I would like to take some time explaining everything since this is also my foray into the C programming language. This is a living document which will keep getting updated until the project completes.

The famous ID software developer John Romero once said in a very interesting [interview](https://howtomarketagame.com/2023/09/25/john-romero-on-his-book-doom-guy-and-developing-games-at-a-small-scale/):
> We knew how to scope. We knew what felt like a good size, so when we scoped it out, there were only 16 levels (to be made)

So let's apply this principle to our own game. Luckily we know exactly what breakout looks like, it is a ball, which you hit with a paddle. The ball has collision and should destroy the blocks and give you a score. I italicized a few things I think are going to be important. Let’s make a list:

1. Ball - This will be a moving cluster of pixels, which should spawn at a random x location on the screen, with a Y of zero. Should be faster every bounce.
2. Paddle - The paddle is a rectangle with a certain width, which you should be able to move to either the right side or the left side. Should get smaller every bounce.
3. Collision - The ball and the paddle should not be able to leave the screen. The ball should bounce of it.
4. Blocks - The blocks should be placed in a certain pattern of 4 rows. They are destroyed if the ball bounces off of it.
5. Score - There is 1 point added to the score if a block is destroyed.
 
These are the parts we are going to program over this journey. The entire course should not take more than an hour to complete. Let's get started by creating a makefile and setting up our renderer, before we can get into the more fun parts of the programming.

## Creating the makefile
First thing we want to do is create a makefile, which organize code compilation. To properly compile C code you have to enter a series of flags to include libraries and define which files you would like to include. This is the desired structure:
```
Game Folder
├── src
│   ├── main.c
│   └── constants.h
├── makefile
└── game
```
These are the necessary files for our project, where **game** is generated in our makefile. At this moment you do not have any of these yet so let's get started by going to our **Game Folder** folder and typing:

```mkdir src```

This will create our `src` folder, then we can follow that up with creating the files:

```touch makefile src/main.c src/constants.h```

Now we have our makefile, and our src where we have our `main.c` file. That is where all the code will be stored. Let's open up our makefile and add the following line:

```
build:
	gcc -Wall -std=c99 ./src/*.c -lSDL2 -o game
```

Here we build all (`-Wall`) with the c99 standard, and we build all in the relative path of src, and fetch all files which end with c. Finally, we include our SDL2 and output our game. Great! We now have a way to build our application which is very nice, but maybe we need some configuration to run it too? Let's add the following to the make file:

```
run:
	./game
```

This will run our game file which is generated by our build command. It is very simple and not really necessary at this point, but if in the future we ever need to change the way we run our program we can do this easily here.

Finally I want to be able to also clean the project when I need to get rid of it (for whatever reason) so we add this command as well.

```
clean:
	rm game
```

**Note:** though this may seem superfluous it is best practice, so when we make the project more advanced we only have to change our build commands.

